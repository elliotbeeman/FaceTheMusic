<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fuck this shit</title>
</head>
<body>
    <script src="./webcam.js"></script>
    <script src="./kairos.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>    

    <div id="my_camera" style="width:320px; height:240px;"></div>
    <div id="my_result"></div>

    <script language="JavaScript">
        Webcam.attach( '#my_camera' );

        var kairos = new Kairos("ce3d5ed4", "122f727bf3ffa2940681304eb178a63f");

        function takeSnapshot() {
            Webcam.snap( function(data_uri) {
                document.getElementById('my_result').innerHTML = '<img src="'+data_uri+'"/>';
            } );
        }

        function kairosResponse(res)
        {
            console.log(res.responseText);
        }

        function kairosSnapshot()
        {
            // take snapshot
            Webcam.snap(function(data_uri)
            {
                // comment
                // var reader = new FileReader();
                // var file_input = document.getElementById()
                data_uri = data_uri.replace("data:image/jpeg;base64,", "");
                data_uri = data_uri.replace("data:image/jpg;base64,", "");
                data_uri = data_uri.replace("data:image/png;base64,", "");
                data_uri = data_uri.replace("data:image/gif;base64,", "");
                data_uri = data_uri.replace("data:image/bmp;base64,", "");
                kairos.enroll(data_uri, "test1", "austin", kairosResponse);
            });
        }

    </script>

    <a href="javascript:void(takeSnapshot())">Take Snapshot</a>
    <a href="javascript:void(kairosSnapshot())">Kairos Snapshot</a>
</body>
</html>